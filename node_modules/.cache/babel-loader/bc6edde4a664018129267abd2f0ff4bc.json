{"ast":null,"code":"import _classCallCheck from \"/home/e-learning_estevan/Documentos/Personal/Task-Planner-React-PWA-FrontEnd/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/e-learning_estevan/Documentos/Personal/Task-Planner-React-PWA-FrontEnd/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/home/e-learning_estevan/Documentos/Personal/Task-Planner-React-PWA-FrontEnd/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/e-learning_estevan/Documentos/Personal/Task-Planner-React-PWA-FrontEnd/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/home/e-learning_estevan/Documentos/Personal/Task-Planner-React-PWA-FrontEnd/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/home/e-learning_estevan/Documentos/Personal/Task-Planner-React-PWA-FrontEnd/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/home/e-learning_estevan/Documentos/Personal/Task-Planner-React-PWA-FrontEnd/src/Components/NewTask.js\";\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport TextField from \"@material-ui/core/TextField\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport { withRouter } from \"react-router-dom\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport DoneIcon from \"@material-ui/icons/Done\";\nimport moment from \"moment\";\nimport DateFnsUtils from \"@date-io/date-fns\";\nimport { DatePicker, MuiPickersUtilsProvider } from \"material-ui-pickers\";\nimport Fab from \"@material-ui/core/Fab\";\nimport axios from \"axios\";\n\nvar styles = function styles(theme) {\n  return {\n    root: {\n      flexGrow: 1,\n      textAlign: \"center\"\n    },\n    paper: {\n      padding: theme.spacing.unit * 2,\n      textAlign: \"center\",\n      color: theme.palette.text.secondary\n    },\n    container: {\n      display: \"flex\",\n      flexWrap: \"wrap\"\n    },\n    textField: {\n      marginLeft: theme.spacing.unit,\n      marginRight: theme.spacing.unit,\n      width: \"40vw\"\n    },\n    menu: {\n      width: 200\n    },\n    absolute: {\n      position: \"absolute\",\n      bottom: theme.spacing.unit * 2,\n      right: theme.spacing.unit * 3\n    }\n  };\n};\n\nvar status = [{\n  value: \"Ready\",\n  label: \"Ready\"\n}, {\n  value: \"In progress\",\n  label: \"In progress\"\n}, {\n  value: \"Done\",\n  label: \"Done\"\n}];\nvar priority = [{\n  value: 1,\n  label: \"Priority 1\"\n}, {\n  value: 2,\n  label: \"Priority 2\"\n}, {\n  value: 3,\n  label: \"Priority 3\"\n}, {\n  value: 4,\n  label: \"Priority 4\"\n}, {\n  value: 5,\n  label: \"Priority 5\"\n}, {\n  value: 6,\n  label: \"Priority 6\"\n}, {\n  value: 7,\n  label: \"Priority 8\"\n}, {\n  value: 9,\n  label: \"Priority 9\"\n}, {\n  value: 10,\n  label: \"Priority 10\"\n}];\n\nvar NewTask =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(NewTask, _React$Component);\n\n  function NewTask(props) {\n    var _this;\n\n    _classCallCheck(this, NewTask);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(NewTask).call(this, props));\n    _this.handleDateChange = _this.handleDateChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleAddButton = _this.handleAddButton.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleDescriptionChange = _this.handleDescriptionChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleResponsibleChange = _this.handleResponsibleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleStatusChange = _this.handleStatusChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handlePriorityChange = _this.handlePriorityChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.state = {\n      dueDate: moment(),\n      description: \"\",\n      status: \"\",\n      responsible: {\n        name: \"\",\n        email: \"\",\n        password: null\n      },\n      priority: \"\",\n      users: []\n    };\n    return _this;\n  }\n\n  _createClass(NewTask, [{\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      axios.defaults.headers.common['Authorization'] = 'Bearer ' + localStorage.getItem(\"accessToken\");\n      var users = localStorage.getItem(\"users\");\n\n      if (users) {\n        var value = JSON.parse(users);\n        this.setState({\n          users: value\n        });\n      } else {\n        axios.get('https://task-panner-api.herokuapp.com/api/users').then(function (res) {\n          _this2.setState({\n            users: res.data\n          });\n\n          localStorage.setItem(\"users\", JSON.stringify(res.data));\n        }).catch(function (error) {\n          console.log(error);\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var classes = this.props.classes;\n      return React.createElement(\"div\", {\n        className: classes.root,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        container: true,\n        spacing: 24,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 146\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 147\n        },\n        __self: this\n      }, React.createElement(Typography, {\n        variant: \"h2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 148\n        },\n        __self: this\n      }, \"Nueva Tarea\")), React.createElement(\"form\", {\n        className: classes.container,\n        noValidate: true,\n        autoComplete: \"off\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 152\n        },\n        __self: this\n      }, React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 153\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        required: true,\n        id: \"Description\",\n        label: \"Descripci\\xF3n\",\n        onChange: this.handleDescriptionChange,\n        value: this.state.description,\n        className: classes.textField,\n        margin: \"normal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154\n        },\n        __self: this\n      })), React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 164\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        select: true,\n        id: \"responsible\",\n        label: \"Responsable\",\n        onChange: this.handleResponsibleChange,\n        className: classes.textField,\n        value: this.state.responsible,\n        SelectProps: {\n          MenuProps: {\n            className: classes.menu\n          }\n        },\n        helperText: \"Seleccione un responsable de tarea\",\n        margin: \"normal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165\n        },\n        __self: this\n      }, this.state.users.map(function (user) {\n        return React.createElement(MenuItem, {\n          key: user.email,\n          value: user,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 181\n          },\n          __self: this\n        }, user.name);\n      }))), React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        id: \"standard-select\",\n        select: true,\n        label: \"Prioridad\",\n        className: classes.textField,\n        value: this.state.priority,\n        onChange: this.handlePriorityChange,\n        SelectProps: {\n          MenuProps: {\n            className: classes.menu\n          }\n        },\n        helperText: \"Seleccione prioridad de la tarea\",\n        margin: \"normal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 188\n        },\n        __self: this\n      }, priority.map(function (option) {\n        return React.createElement(MenuItem, {\n          key: option.value,\n          value: option.value,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 204\n          },\n          __self: this\n        }, option.label);\n      }))), React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 210\n        },\n        __self: this\n      }, React.createElement(TextField, {\n        id: \"standard-select\",\n        select: true,\n        label: \"Estado\",\n        className: classes.textField,\n        value: this.state.status,\n        onChange: this.handleStatusChange,\n        SelectProps: {\n          MenuProps: {\n            className: classes.menu\n          }\n        },\n        helperText: \"Please select the status of the task\",\n        margin: \"normal\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 211\n        },\n        __self: this\n      }, status.map(function (option) {\n        return React.createElement(MenuItem, {\n          key: option.value,\n          value: option.value,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 227\n          },\n          __self: this\n        }, option.label);\n      }))), React.createElement(Grid, {\n        item: true,\n        xs: 12,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 233\n        },\n        __self: this\n      }, React.createElement(MuiPickersUtilsProvider, {\n        utils: DateFnsUtils,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 234\n        },\n        __self: this\n      }, React.createElement(DatePicker, {\n        margin: \"normal\",\n        className: classes.textField,\n        label: \"Due date\",\n        id: \"due-date\",\n        value: this.state.dueDate,\n        onChange: this.handleDateChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 235\n        },\n        __self: this\n      }))))), React.createElement(Tooltip, {\n        title: \"Add\",\n        \"aria-label\": \"Add\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 249\n        },\n        __self: this\n      }, React.createElement(Fab, {\n        color: \"primary\",\n        onClick: this.handleAddButton,\n        className: classes.absolute,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 250\n        },\n        __self: this\n      }, React.createElement(DoneIcon, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 251\n        },\n        __self: this\n      }))));\n    }\n  }, {\n    key: \"handleDescriptionChange\",\n    value: function handleDescriptionChange(ev) {\n      this.setState({\n        description: ev.target.value\n      });\n    }\n  }, {\n    key: \"handleResponsibleChange\",\n    value: function handleResponsibleChange(ev) {\n      this.setState({\n        responsible: ev.target.value\n      });\n    }\n  }, {\n    key: \"handleStatusChange\",\n    value: function handleStatusChange(ev) {\n      this.setState({\n        status: ev.target.value\n      });\n    }\n  }, {\n    key: \"handlePriorityChange\",\n    value: function handlePriorityChange(ev) {\n      this.setState({\n        priority: ev.target.value\n      });\n    }\n  }, {\n    key: \"handleAddButton\",\n    value: function handleAddButton() {\n      var _this3 = this;\n\n      var newTask = {\n        description: this.state.description,\n        responsible: this.state.responsible,\n        status: this.state.status,\n        priority: this.state.priority,\n        dueDate: this.state.dueDate\n      };\n      axios.post('https://task-panner-api.herokuapp.com/api/tasks', {\n        description: this.state.description,\n        responsible: this.state.responsible,\n        status: this.state.status,\n        priority: this.state.priority,\n        dueDate: this.state.dueDate\n      }).then(function (response) {\n        var data = localStorage.getItem(\"tasks\");\n        var tasks = JSON.parse(data);\n        tasks.push(newTask);\n        localStorage.setItem(\"tasks\", JSON.stringify(tasks));\n\n        _this3.props.history.push(\"/mainView\");\n      }).catch(function (error) {\n        alert(\"An error has ocurred!\");\n      });\n    }\n  }, {\n    key: \"handleDateChange\",\n    value: function handleDateChange(date) {\n      this.setState({\n        dueDate: moment(date)\n      });\n    }\n  }]);\n\n  return NewTask;\n}(React.Component);\n\nNewTask.propTypes = {\n  classes: PropTypes.object.isRequired\n};\nexport default withRouter(withStyles(styles)(NewTask));","map":{"version":3,"sources":["/home/e-learning_estevan/Documentos/Personal/Task-Planner-React-PWA-FrontEnd/src/Components/NewTask.js"],"names":["React","PropTypes","withStyles","Grid","Typography","TextField","MenuItem","withRouter","Tooltip","DoneIcon","moment","DateFnsUtils","DatePicker","MuiPickersUtilsProvider","Fab","axios","styles","theme","root","flexGrow","textAlign","paper","padding","spacing","unit","color","palette","text","secondary","container","display","flexWrap","textField","marginLeft","marginRight","width","menu","absolute","position","bottom","right","status","value","label","priority","NewTask","props","handleDateChange","bind","handleAddButton","handleDescriptionChange","handleResponsibleChange","handleStatusChange","handlePriorityChange","state","dueDate","description","responsible","name","email","password","users","defaults","headers","common","localStorage","getItem","JSON","parse","setState","get","then","res","data","setItem","stringify","catch","error","console","log","classes","MenuProps","className","map","user","option","ev","target","newTask","post","response","tasks","push","history","alert","date","Component","propTypes","object","isRequired"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport {withStyles} from \"@material-ui/core/styles\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Typography from \"@material-ui/core/Typography\";\nimport TextField from \"@material-ui/core/TextField\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport {withRouter} from \"react-router-dom\";\nimport Tooltip from \"@material-ui/core/Tooltip\";\nimport DoneIcon from \"@material-ui/icons/Done\";\nimport moment from \"moment\";\nimport DateFnsUtils from \"@date-io/date-fns\";\nimport {DatePicker, MuiPickersUtilsProvider} from \"material-ui-pickers\";\nimport Fab from \"@material-ui/core/Fab\";\nimport axios from \"axios\";\n\nconst styles = theme => ({\n    root: {\n        flexGrow: 1,\n        textAlign: \"center\",\n\n    },\n    paper: {\n        padding: theme.spacing.unit * 2,\n        textAlign: \"center\",\n        color: theme.palette.text.secondary,\n    }, container: {\n        display: \"flex\",\n        flexWrap: \"wrap\",\n    },\n    textField: {\n        marginLeft: theme.spacing.unit,\n        marginRight: theme.spacing.unit,\n        width: \"40vw\",\n\n    },\n    menu: {\n        width: 200,\n    },\n    absolute: {\n        position: \"absolute\",\n        bottom: theme.spacing.unit * 2,\n        right: theme.spacing.unit * 3,\n    },\n});\nconst status = [\n    {\n        value: \"Ready\",\n        label: \"Ready\",\n    },\n    {\n        value: \"In progress\",\n        label: \"In progress\",\n    },\n    {\n        value: \"Done\",\n        label: \"Done\",\n    },\n];\nconst priority = [\n    {\n        value: 1,\n        label: \"Priority 1\",\n    },\n    {\n        value: 2,\n        label: \"Priority 2\",\n    },\n    {\n        value: 3,\n        label: \"Priority 3\",\n    },\n    {\n        value: 4,\n        label: \"Priority 4\",\n    },\n    {\n        value: 5,\n        label: \"Priority 5\",\n    },\n    {\n        value: 6,\n        label: \"Priority 6\",\n    },\n    {\n        value: 7,\n        label: \"Priority 8\",\n    },\n    {\n        value: 9,\n        label: \"Priority 9\",\n    },\n    {\n        value: 10,\n        label: \"Priority 10\",\n    },\n\n];\n\nclass NewTask extends React.Component {\n\n    constructor(props) {\n        super(props);\n        this.handleDateChange = this.handleDateChange.bind(this);\n        this.handleAddButton = this.handleAddButton.bind(this);\n        this.handleDescriptionChange = this.handleDescriptionChange.bind(this);\n        this.handleResponsibleChange = this.handleResponsibleChange.bind(this);\n        this.handleStatusChange = this.handleStatusChange.bind(this);\n        this.handlePriorityChange = this.handlePriorityChange.bind(this);\n        this.state = {\n            dueDate: moment(),\n            description: \"\",\n            status: \"\",\n            responsible: {name: \"\", email: \"\", password: null},\n            priority: \"\",\n            users: [],\n\n        };\n\n    }\n\n    componentWillMount() {\n\n        axios.defaults.headers.common['Authorization'] = 'Bearer ' + localStorage.getItem(\"accessToken\");\n        const users = localStorage.getItem(\"users\");\n        if (users) {\n            const value = JSON.parse(users);\n            this.setState({users: value})\n        } else {\n            axios.get('https://task-panner-api.herokuapp.com/api/users').then((res) => {\n                this.setState({users: res.data});\n                localStorage.setItem(\"users\", JSON.stringify(res.data))\n            }).catch(function (error) {\n                console.log(error);\n            });\n        }\n\n\n    }\n\n    render() {\n        const {classes} = this.props;\n\n        return (\n            <div className={classes.root}>\n                <Grid container spacing={24}>\n                    <Grid item xs={12}>\n                        <Typography variant=\"h2\">Nueva Tarea</Typography>\n                    </Grid>\n\n\n                    <form className={classes.container} noValidate autoComplete=\"off\">\n                        <Grid item xs={12}>\n                            <TextField\n                                required\n                                id=\"Description\"\n                                label=\"Descripción\"\n                                onChange={this.handleDescriptionChange}\n                                value={this.state.description}\n                                className={classes.textField}\n                                margin=\"normal\"\n                            />\n                        </Grid>\n                        <Grid item xs={12}>\n                            <TextField\n                                select\n                                id=\"responsible\"\n                                label=\"Responsable\"\n                                onChange={this.handleResponsibleChange}\n                                className={classes.textField}\n                                value={this.state.responsible}\n                                SelectProps={{\n                                    MenuProps: {\n                                        className: classes.menu,\n                                    },\n                                }}\n                                helperText=\"Seleccione un responsable de tarea\"\n                                margin=\"normal\"\n                            >\n                                {this.state.users.map(user => (\n                                    <MenuItem key={user.email} value={user}>\n                                        {user.name}\n                                    </MenuItem>\n                                ))}\n                            </TextField>\n                        </Grid>\n                        <Grid item xs={12}>\n                            <TextField\n                                id=\"standard-select\"\n                                select\n                                label=\"Prioridad\"\n                                className={classes.textField}\n                                value={this.state.priority}\n                                onChange={this.handlePriorityChange}\n                                SelectProps={{\n                                    MenuProps: {\n                                        className: classes.menu,\n                                    },\n                                }}\n                                helperText=\"Seleccione prioridad de la tarea\"\n                                margin=\"normal\"\n                            >\n                                {priority.map(option => (\n                                    <MenuItem key={option.value} value={option.value}>\n                                        {option.label}\n                                    </MenuItem>\n                                ))}\n                            </TextField>\n                        </Grid>\n                        <Grid item xs={12}>\n                            <TextField\n                                id=\"standard-select\"\n                                select\n                                label=\"Estado\"\n                                className={classes.textField}\n                                value={this.state.status}\n                                onChange={this.handleStatusChange}\n                                SelectProps={{\n                                    MenuProps: {\n                                        className: classes.menu,\n                                    },\n                                }}\n                                helperText=\"Please select the status of the task\"\n                                margin=\"normal\"\n                            >\n                                {status.map(option => (\n                                    <MenuItem key={option.value} value={option.value}>\n                                        {option.label}\n                                    </MenuItem>\n                                ))}\n                            </TextField>\n                        </Grid>\n                        <Grid item xs={12}>\n                            <MuiPickersUtilsProvider utils={DateFnsUtils}>\n                                <DatePicker\n                                    margin=\"normal\"\n                                    className={classes.textField}\n                                    label=\"Due date\"\n                                    id=\"due-date\"\n                                    value={this.state.dueDate}\n                                    onChange={this.handleDateChange}>\n                                </DatePicker>\n                            </MuiPickersUtilsProvider>\n\n                        </Grid>\n                    </form>\n\n                </Grid>\n                <Tooltip title=\"Add\" aria-label=\"Add\">\n                    <Fab color=\"primary\" onClick={this.handleAddButton} className={classes.absolute}>\n                        <DoneIcon/>\n                    </Fab>\n                </Tooltip>\n            </div>\n        );\n    }\n\n    handleDescriptionChange(ev) {\n        this.setState({description: ev.target.value});\n    }\n\n    handleResponsibleChange(ev) {\n        this.setState({responsible: ev.target.value});\n    }\n\n    handleStatusChange(ev) {\n        this.setState({status: ev.target.value});\n    }\n\n    handlePriorityChange(ev) {\n        this.setState({priority: ev.target.value});\n    }\n\n    handleAddButton() {\n        const newTask = {\n            description: this.state.description,\n            responsible: this.state.responsible,\n            status: this.state.status,\n            priority: this.state.priority,\n            dueDate: this.state.dueDate\n        };\n        axios.post('https://task-panner-api.herokuapp.com/api/tasks', {\n            description: this.state.description,\n            responsible: this.state.responsible,\n            status: this.state.status,\n            priority: this.state.priority,\n            dueDate: this.state.dueDate\n        }).then((response) => {\n            const data = localStorage.getItem(\"tasks\");\n            const tasks = JSON.parse(data);\n            tasks.push(newTask);\n            localStorage.setItem(\"tasks\", JSON.stringify(tasks));\n            this.props.history.push(\"/mainView\");\n        }).catch(function (error) {\n            alert(\"An error has ocurred!\")\n        });\n\n    }\n\n    handleDateChange(date) {\n        this.setState({\n            dueDate: moment(date)\n        });\n    }\n}\n\nNewTask.propTypes = {\n    classes: PropTypes.object.isRequired,\n};\n\nexport default withRouter(withStyles(styles)(NewTask));"]},"metadata":{},"sourceType":"module"}